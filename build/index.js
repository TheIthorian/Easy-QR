var O=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var A=(s,e,t)=>(O(s,e,"access private method"),t);var w=class{constructor(e,t){this.canvasElement=document.getElementById(e),this.width=t,this.height=t,this.canvasElement.width=Math.min(document.body.clientWidth/2,document.body.clientHeight/2),this.canvasElement.height=this.canvasElement.width,this.tileSize=this.canvasElement.width/t}fillCell(e,t){let r=this._findPosition(e),o=r[0]*this.tileSize,i=r[1]*this.tileSize;var l=this.canvasElement.getContext("2d");l.beginPath(),l.fillStyle=t,l.fillRect(o,i,this.tileSize,this.tileSize),l.stroke()}_findPosition(e){let t=e%this.width,r=Math.floor(e/this.width);return[t,r]}_findIndex(e,t){return e>=this.width||t>=this.height||e<0||t<0?-1:this.width*t+e}};var C=new Uint8Array(256),g=new Uint8Array(256);for(let s=1,e=1;s<256;s++)e=e>127?e<<1^285:e<<1,C[e]=s%255,g[s%255]=e;function B(s,e){return s&&e?g[(C[s]+C[e])%255]:0}function M(s,e){return g[(C[s]+C[e]*254)%255]}function S(s,e){let t=new Uint8Array(s.length+e.length-1);for(let r=0;r<t.length;r++){let o=0;for(let i=0;i<=r;i++){let l=r-i;o^=B(s[i],e[l])}t[r]=o}return t}function p(s,e){let t=s.length-e.length+1,r=new Uint8Array(s);for(let o=0;o<t;o++)if(r[0]){let i=M(r[0],e[0]),l=new Uint8Array(r.length);l.set(S(e,new Uint8Array([i])),0),r=r.map((f,u)=>f^l[u]).slice(1)}else r=r.slice(1);return r}function N(s){let e=new Uint8Array([1]);for(let t=0;t<s;t++)e=S(e,new Uint8Array([1,g[t]]));return e}function G(s,e){let t=e-s.length,r=new Uint8Array(e);return r.set(s,0),p(r,N(t))}var y=class{constructor(e,t){this.data=t,this.correctionLevel=e.correctionLevel,this.array=[],this.size=e.size,this.version=e.version;for(let r=0;r<this.size*this.size;r++)this.array[r]=""}coordToIndex(e,t){return this.size*t+e}indexToCorrd(e){return[e%this.size,Math.floor(e/this.size)+1]}addTimingPattern(){let e=!0;for(let t=0;t<this.size;t++)this.array[this.coordToIndex(6,t)]=e?"1":"0",e=!e;e=!0;for(let t=0;t<this.size;t++)this.array[this.coordToIndex(t,6)]=e?"1":"0",e=!e}addFinderPattern(){let e=[["1","1","1","1","1","1","1"],["1","0","0","0","0","0","1"],["1","0","1","1","1","0","1"],["1","0","1","1","1","0","1"],["1","0","1","1","1","0","1"],["1","0","0","0","0","0","1"],["1","1","1","1","1","1","1"]],t=[0,this.size-e.length,this.size*(this.size-e.length)];for(let r of t)for(let o=0;o<e.length;o++)for(let i=0;i<e.length;i++)this.array[r+o+this.size*i]=e[o][i];for(let r=0;r<9;r++)this.array[this.coordToIndex(7,r)]="0",this.array[this.coordToIndex(r,7)]="0",this.array[this.coordToIndex(8,r)]="0",this.array[this.coordToIndex(r,8)]="0";this.array[this.coordToIndex(8,6)]="1",this.array[this.coordToIndex(6,8)]="1";for(let r=0;r<8;r++)this.array[this.coordToIndex(this.size-8+r,7)]="0",this.array[this.coordToIndex(this.size-8,r)]="0";for(let r=0;r<9;r++)this.array[this.coordToIndex(7,this.size-r)]="0",this.array[this.coordToIndex(r,this.size-8)]="0";this.array[this.coordToIndex(8,this.size-8)]="1"}addSmallFinderPatterns(){let e=this.getAlignmentPatternPositions();for(let t=0;t<e.length;t++)for(let r=0;r<e.length;r++)t==0&&r==0||t==0&&r==e.length-1||t==e.length-1&&r==0||this.addSmallerFinderSquare(e[t],e[r])}addSmallerFinderSquare(e,t){let r=[["1","1","1","1","1"],["1","0","0","0","1"],["1","0","1","0","1"],["1","0","0","0","1"],["1","1","1","1","1"]];for(let o=0;o<5;o++)for(let i=0;i<5;i++)this.array[this.coordToIndex(e-2+o,t-2+i)]=r[o][i]}getAlignmentPatternPositions(){if(this.version==1)return[];{let e=Math.floor(this.version/7)+2,t=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,r=[6];for(let o=this.size-7;r.length<e;o-=t)r.splice(1,0,o);return r}}addVersionInformation(){if(this.version<7)return;let e=this.getVersionInformation(this.version);for(let t=0;t<6;t++)for(let r=0;r<3;r++)this.array[this.coordToIndex(t,this.size-11+r)]=e[3*t+r].toString(),this.array[this.coordToIndex(this.size-11+r,t)]=e[3*t+r].toString()}getVersionInformation(e){let t=new Uint8Array([1,1,1,1,1,0,0,1,0,0,1,0,1]),r=e.toString(2).padStart(6,"0")+"000000000000",o=Uint8Array.from(r.split("").map(i=>parseInt(i)));return o.set(p(o,t),6),o}placeCodewordHorizontalPair(e,t,r){t<0||r<0||(this.array[this.coordToIndex(t,r)]=this.data[e],this.array[this.coordToIndex(t-1,r)]=this.data[e+1])}placeCodewordPair(e,t,r){this.array[this.coordToIndex(t,r)]=this.data[e]}placeCodewordVerticalPair(e,t,r,o){let i=o?1:-1;this.array[this.coordToIndex(t,r)]=this.data[e];for(let l=1;l<=6;l++)this.array[this.coordToIndex(t,r+i*l)]=this.data[e+l];e+=6,r+=6*i}addCodewords(){let e,t,r;r=!0,e=this.size-1,t=this.size-1;let o=this.getAlignmentPatternPositions();for(let i=0;i<this.data.length;i+=2){if(i==0){this.placeCodewordHorizontalPair(i,e,t),t--;continue}if(r)if(this.version>=7&&t==7&&e==this.size-9)[i,e,t,r]=this.skipVersionInfo(i,e,t,r);else if(t==9&&(e>this.size-8||e<=8)||t==0)[i,e,t,r]=this.placeBoundaryCells(i,e,t,r);else if(o.includes(t-3)&&o.includes(e-2))this.placeCodewordHorizontalPair(i,e,t),t-=6;else if(this.isAtAlignmentPattern(e,t,o,r)){this.placeCodewordHorizontalPair(i,e,t),i+=2,e--,t--;for(let l=0;l<5;l++)this.placeCodewordPair(i,e,t),t--,i++;i-=2,e++}else t==6?(t--,this.placeCodewordHorizontalPair(i,e,t),t--):(this.placeCodewordHorizontalPair(i,e,t),t--);else r||(t==this.size-1&&e==10?(this.placeCodewordHorizontalPair(i,e,t),e=8,t=this.size-9,r=!0):t==this.size-9&&e<=8||t==this.size-1?[i,e,t,r]=this.placeBoundaryCells(i,e,t,r):this.isAtAlignmentPattern(e,t,o,r)?(this.placeCodewordHorizontalPair(i,e,t),t+=6):t==6?(t++,this.placeCodewordHorizontalPair(i,e,t),t++):(this.placeCodewordHorizontalPair(i,e,t),t++));if(e<0)return}}skipVersionInfo(e,t,r,o){if(o){this.placeCodewordHorizontalPair(e,t,r),r=0,t=this.size-12,e++;for(let i=0;i<6;i++)this.array[this.coordToIndex(t,r+i)]=this.data[e],e++;return r=7,t=this.size-11,this.placeCodewordHorizontalPair(e,t,r),r++,o=!1,[e,t,r,o]}else return}placeBoundaryCells(e,t,r,o){return o?(this.placeCodewordHorizontalPair(e,t,r),e+=2,t==8&&r==9?t-=3:t-=2,o=!1,this.placeCodewordHorizontalPair(e,t,r),r++,[e,t,r,o]):(this.placeCodewordHorizontalPair(e,t,r),t-=2,e+=2,o=!0,this.placeCodewordHorizontalPair(e,t,r),r--,[e,t,r,o])}isAtAlignmentPattern(e,t,r,o){return o?r.includes(t-3)&&r.includes(e+2)&&!(r[0]==e+2&&r[0]==t-3)&&!(r[0]==e+2&&r[r.length-1]==t-3)&&!(r[0]==t-3&&r[r.length-1]==e+2):r.includes(t+3)&&(r.includes(e)||r.includes(e+1))&&!(r[0]==e&&r[0]==t+3)&&!(r[0]==e&&r[r.length-1]==t+3)&&!(r[0]==e+1&&r[r.length-1]==t+3)&&!(r[0]==t+3&&r[r.length-1]==e)}applyMasks(){for(let e=0;e<this.array.length;e++)e%2==0?this.array[e]=(parseInt(this.array[e])^1).toString():this.array[e]=(parseInt(this.array[e])^0).toString()}addErrorLevel(){let e=0,t="MLHQ",r=new Uint8Array([1,0,1,0,0,1,1,0,1,1,1]),o=new Uint8Array([1,0,1,0,1,0,0,0,0,0,1,0,0,1,0]),i=new Uint8Array(15),l=t.indexOf(this.correctionLevel);i[0]=l>>1,i[1]=l&1,i[2]=e>>2,i[3]=e>>1&1,i[4]=e&1;let f=p(i,r);i.set(f,5);let u=i.map((n,h)=>n^o[h]);for(let n=0;n<7;n++){let h;u[n]==254?h="1":u[n]==255?h="0":h=u[n].toString();let d=0;n>5&&(d=1),this.array[this.coordToIndex(n+d,8)]=h,this.array[this.coordToIndex(8,this.size-n-1)]=h}for(let n=7;n<15;n++){let h;u[n]==254?h="1":u[n]==255?h="0":h=u[n].toString();let d=0;n>8&&(d=1),this.array[this.coordToIndex(8,15-n-d)]=h,this.array[this.coordToIndex(this.size-15+n,8)]=h}}addAlternating(){for(let e=0;e<this.size*this.size;e++)this.array[e]=e%2?"0":"1"}};function R(s){s=s.toString();for(var e="",t=0;t<s.length;t++)e+=s[t].charCodeAt(0).toString(2);return e}function m(s){return parseInt(s,10).toString(16)}var b={1:"#000000",0:"#FFFFFF"},x="#FF0000";var H={Numeric:"0001",Alphanumeric:"0010",Byte:"0100",Kanji:"1000",ECI:"0111"},D={Numeric:function(s){return s<10?10:s<17?12:14},Alphanumeric:function(s){return s<10?9:s<17?11:13},Byte:function(s){return s<10?8:(s<17,16)},Kanji:function(s){return s<10?8:s<17?10:12},ECI:function(s){return 0}},c={L:{totalDataCodewords:[19,34,55,80,108,136,156,194,232,274,324,370,428,461,523,589,647,721,795,861,932,1006,1094,1174,1276,1370,1468,1531,1631,1735,1843,1955,2071,2191,2306,2434,2566,2702,2812,2956,1276],ECCodeWordsPerBlock:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30],blocksInGroup1:[1,1,1,1,1,2,2,2,2,2,4,2,4,3,5,5,1,5,3,3,4,2,4,6,8,10,8,3,7,5,13,17,17,13,12,6,17,4,20,19,20],codewordsInGroup1Block:[19,34,55,80,108,68,78,97,116,68,81,92,107,115,87,98,107,120,113,107,116,111,121,117,106,114,122,117,116,115,115,115,115,115,121,121,122,122,117,118,15],blocksInGroup2:[0,0,0,0,0,0,0,0,0,2,0,2,0,1,1,1,5,1,4,5,4,7,5,4,4,2,4,10,7,10,3,0,1,6,7,14,4,18,4,6,61],codewordsInGroup2Block:[0,0,0,0,0,0,0,0,0,69,0,93,0,116,88,99,108,121,114,108,117,112,122,118,107,115,123,118,117,116,116,0,116,116,122,122,123,123,118,119,16],ModeSize:{Numeric:[41,77,127,187,255,322,370,461,552,652,772,883,1022,1101,1250,1408,1548,1725,1903,2061,2232,2409,2620,2812,3057,3283,3517,3669,3909,4158,4417,4686,4965,5253,5529,5836,6153,6479,6743,7089],Alphanumeric:[25,47,77,114,154,195,224,279,335,395,468,535,619,667,758,854,938,1046,1153,1249,1352,1460,1588,1704,1853,1990,2132,2223,2369,2520,2677,2840,3009,3183,3351,3537,3729,3927,4087,4296],Byte:[17,32,53,78,106,134,154,192,230,271,321,367,425,458,520,586,644,718,792,858,929,1003,1091,1171,1273,1367,1465,1528,1628,1732,1840,1952,2068,2188,2303,2431,2563,2699,2809,2953],Kanji:[10,20,32,48,65,82,95,118,141,167,198,226,262,282,320,361,397,442,488,528,572,618,672,721,784,842,902,940,1002,1066,1132,1201,1273,1347,1417,1496,1577,1661,1729,1817],ECI:[0]}},M:{totalDataCodewords:[16,28,44,64,86,108,124,154,182,216,254,290,334,365,415,453,507,563,627,669,714,782,860,914,1e3,1062,1128,1193,1267,1373,1455,1541,1631,1725,1812,1914,1992,2102,2216,2334],ECCodeWordsPerBlock:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],blocksInGroup1:[1,1,1,2,2,4,4,2,3,4,1,6,8,4,5,7,10,9,3,3,17,17,4,6,8,19,22,3,21,19,2,10,14,14,12,6,29,13,40,18],codewordsInGroup1Block:[16,28,44,32,43,27,31,38,36,43,50,36,37,40,41,45,46,43,44,41,42,46,47,45,47,46,45,45,45,47,46,46,46,46,47,47,46,46,47,47],blocksInGroup2:[0,0,0,0,0,0,0,2,2,1,4,2,1,5,5,3,1,4,11,13,0,0,14,14,13,4,3,23,7,10,29,23,21,23,26,34,14,32,7,31],codewordsInGroup2Block:[0,0,0,0,0,0,0,39,37,44,51,37,38,41,42,46,47,44,45,42,0,0,48,46,48,47,46,46,46,48,47,47,47,47,48,48,47,47,48,48],ModeSize:{Numeric:[34,63,101,149,202,255,293,365,432,513,604,691,796,871,991,1082,1212,1346,1500,1600,1708,1872,2059,2188,2395,2544,2701,2857,3035,3289,3486,3693,3909,4134,4343,4588,4775,5039,5313,5596],Alphanumeric:[20,38,61,90,122,154,178,221,262,311,366,419,483,528,600,656,734,816,909,970,1035,1134,1248,1326,1451,1542,1637,1732,1839,1994,2113,2238,2369,2506,2632,2780,2894,3054,3220,3391],Byte:[14,26,42,62,84,106,122,152,180,213,251,287,331,362,412,450,504,560,624,666,711,779,857,911,997,1059,1125,1190,1264,1370,1452,1538,1628,1722,1809,1911,1989,2099,2213,2331],Kanji:[8,16,26,38,52,65,75,93,111,131,155,177,204,223,254,277,310,345,384,410,438,480,528,561,614,652,692,732,778,843,894,947,1002,1060,1113,1176,1224,1292,1362,1435],ECI:[0]}},Q:{totalDataCodewords:[13,22,34,48,62,76,88,110,132,154,180,206,244,261,295,325,367,397,445,485,512,568,614,664,718,754,808,871,911,985,1033,1115,1171,1231,1286,1354,1426,1502,1582,1666],ECCodeWordsPerBlock:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],blocksInGroup1:[1,1,2,2,2,4,2,4,4,6,4,4,8,11,5,15,1,17,17,15,17,7,11,11,7,28,8,4,1,15,42,10,29,44,39,46,49,48,43,34],codewordsInGroup1Block:[13,22,17,24,15,19,14,18,16,19,22,20,20,16,24,19,22,22,21,24,22,24,24,24,24,22,23,24,23,24,24,24,24,24,24,24,24,24,24,24],blocksInGroup2:[0,0,0,0,2,0,4,2,4,2,4,6,4,5,7,2,15,1,4,5,6,16,14,16,22,6,26,31,37,25,1,35,19,7,14,10,10,14,22,34],codewordsInGroup2Block:[0,0,0,0,16,0,15,19,17,20,23,21,21,17,25,20,23,23,22,25,23,25,25,25,25,23,24,25,24,25,25,25,25,25,25,25,25,25,25,25],ModeSize:{Numeric:[27,48,77,111,144,178,207,259,312,364,427,489,580,621,703,775,876,948,1063,1159,1224,1358,1468,1588,1718,1804,1933,2085,2181,2358,2473,2670,2805,2949,3081,3244,3417,3599,3791,3993],Alphanumeric:[16,29,47,67,87,108,125,157,189,221,259,296,352,376,426,470,531,574,644,702,742,823,890,963,1041,1094,1172,1263,1322,1429,1499,1618,1700,1787,1867,1966,2071,2181,2298,2420],Byte:[11,20,32,46,60,74,86,108,130,151,177,203,241,258,292,322,364,394,442,482,509,565,611,661,715,751,805,868,908,982,1030,1112,1168,1228,1283,1351,1423,1499,1579,1663],Kanji:[7,12,20,28,37,45,53,66,80,93,109,125,149,159,180,198,224,243,272,297,314,348,376,407,440,462,496,534,559,604,634,684,719,756,790,832,876,923,972,1024],ECI:[0]}},H:{totalDataCodewords:[9,16,26,36,46,60,66,86,100,122,140,158,180,197,223,253,283,313,341,385,406,442,464,514,538,596,628,661,701,745,793,845,901,961,986,1054,1096,1142,1222,1276],ECCodeWordsPerBlock:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30],blocksInGroup1:[1,1,2,4,2,4,4,4,4,6,3,7,12,11,11,3,2,2,9,15,19,34,16,30,22,33,12,11,19,23,23,19,11,59,22,2,24,42,10,20],codewordsInGroup1Block:[9,16,13,9,11,15,13,14,12,15,12,14,11,12,12,15,14,14,13,15,16,13,15,16,15,16,15,15,15,15,15,15,15,16,15,15,15,15,15,15],blocksInGroup2:[0,0,0,0,2,0,1,2,4,2,8,4,4,5,7,13,17,19,16,10,6,0,14,2,13,4,28,31,26,25,28,35,46,1,41,64,46,32,67,61],codewordsInGroup2Block:[0,0,0,0,12,0,14,15,13,16,13,15,12,13,13,16,15,15,14,16,17,0,16,17,16,17,16,16,16,16,16,16,16,17,16,16,16,16,16,16],ModeSize:{Numeric:[17,34,58,82,106,139,154,202,235,288,331,374,427,468,530,602,674,746,813,919,969,1056,1108,1228,1286,1425,1501,1581,1677,1782,1897,2022,2157,2301,2361,2524,2625,2735,2927,3057],Alphanumeric:[10,20,35,50,64,84,93,122,143,174,200,227,259,283,321,365,408,452,493,557,587,640,672,744,779,864,910,958,1016,1080,1150,1226,1307,1394,1431,1530,1591,1658,1774,1852],Byte:[7,14,24,34,44,58,64,84,98,119,137,155,177,194,220,250,280,310,338,382,403,439,461,511,535,593,625,658,698,742,790,842,898,958,983,1051,1093,1139,1219,1273],Kanji:[4,8,15,21,27,36,39,52,60,74,85,96,109,120,136,154,173,191,208,235,248,270,284,315,330,365,385,405,430,457,486,518,553,590,605,647,673,701,750,784],ECI:[0]}}},T={},k={ERC_NUMERIC_MODE_INVALID_DATA:"Numeric mode may only contain digits",ERC_ALPHANUMERIC_MODE_INVALID_DATA:"Alphanumeric mode may only contain digits and upper-case letters",ERC_BYTE_MODE_INVALID_DATA:"Some characters not allowed in Byte mode",ERC_KANJI_MODE_INVALID_DATA:"Some characters not allowed in Kanji mode",ERC_INPUT_TEXT_TOO_LONG:"The input value is too long for the selected mode",ERC_VERSION_NOT_SUPPORTED:"QR version with more than one error corretion group is not supported"},_={Numeric:/^\d*$/,Alphanmeric:/^[\dA-Z $%*+\-./:]*$/,Byte:/^[\x00-\xff]*$/,Kanji:/^[\p{Script_Extensions=Han}\p{Script_Extensions=Hiragana}\p{Script_Extensions=Katakana}]*$/u},E,F,v,U,L=class{constructor(e,t,r="Byte",o="L"){E.add(this);v.add(this);this.canvasId=e,this.data=t,this.mode=r,this.correctionLevel=o;let i=this.validateData("");if(!i[0])throw k[i[1]];if(this.version=A(this,E,F).call(this),this.size=A(this,v,U).call(this),c[this.correctionLevel].blocksInGroup2[this.version-1]>0)throw console.log(this.version),k.ERC_VERSION_NOT_SUPPORTED;I({Properties:{Size:this.size,Version:this.version,"Correction Level":this.correctionLevel}},!0),this.canvasId&&(this.canvasGrid=new w(this.canvasId,this.size))}validateData(e){if(e>c[this.correctionLevel][39])return[!1,"ERC_INPUT_TEXT_TOO_LONG"];if(_[this.mode].test(e))return[!0];switch(this.mode){case"Numeric":return[!1,"ERC_NUMERIC_MODE_INVALID_DATA"];case"Alphanumeric":return[!1,"ERC_ALPHANUMERIC_MODE_INVALID_DATA"];case"Byte":return[!1,"ERC_BYTE_MODE_INVALID_DATA"];case"Kanji":return[!1,"ERC_KANJI_MODE_INVALID_DATA"];default:return[!1,-1]}}generateCode(){let e=this.getCodeWords();[this.group1,this.group2]=this.getGroups(e),I({"Group 1":this.group1,"Group 2":this.group2});let t=this.getGroupCoefficients(this.group1),r=this.getGroupCoefficients(this.group2),o=this.getNumberOfErrorCorrectionCodeWords(),i=this.getTotalNumberOfCodewords(),l=[],f=[];for(let a=0;a<t.length;a++)l.push(m(t[a]));for(let a=0;a<r.length;a++)f.push(m(r[a]));I({numberOfErrorCorrectionCodeWords:o,group1Coefficients:t,group1Coefficients_Hex:l,group2Coefficients:r,group2Coefficients_Hex:f,numberofCodeWords:i});let u=[];for(let a=0;a<t.length;a++)u[a]=t[a];for(let a=0;a<r.length;a++)u[t.length+a]=r[a];let n=G(u,o+i),h=[];for(let a=0;a<n.length;a++)e+=this.padCharacterLength(parseInt(n[""+a],10).toString(2)),h.push(m(n[""+a]));I({ECC:n,ECC_Hex:h,codewords:e},!0);let d=new y(this,e);return d.addCodewords(),d.applyMasks(),d.addTimingPattern(),d.addFinderPattern(),d.addErrorLevel(),d.addSmallFinderPatterns(),d.addVersionInformation(),d.array}getCodeWords(){let e="";this.totalBits=this.getTotalNumberOfCodewords()*D[this.mode](this.version);let t=this.getModeForCodewords(),r=this.getLengthForCodewords(),o=this.getDataForCodewords(),i=this.getTerminatorForCodewords(e);return e+=t+r+o+i,e=this.padCodewords(e),I({bMode:t,bDataLength:r,bData:o,bTerminator:i,totalBits:this.totalBits},!0),e}getModeForCodewords(){return H[this.mode]}getLengthForCodewords(){let e=this.data.length.toString(2);return this.padCharacterLength(e)}getTerminatorForCodewords(e){let t="";for(let r=0;r<Math.min(this.totalBits-e.length,4);r++)t+="0";return t}getDataForCodewords(){let e="";if(this.mode=="Byte")for(let t=0;t<this.data.length;t++){let r=this.padCharacterLength(R(this.data[t]));e+=r,T.bData+=r}else this.mode=="Numeric"||(this.mode="AlphaNumeric");return e}padCodewords(e){for(;e.length%8!=0;)e+="0";let t=!0;for(;e.length<this.totalBits;)t?e+="11101100":e+="00010001",t=!t;return e}getGroups(e){let t=0,r,o;return[r,t]=this.getGroup1(e,t),[o,t]=this.getGroup2(e,t),[r,o]}getGroup1(e,t){let r=[];for(let o=0;o<c[this.correctionLevel].blocksInGroup1[this.version-1];o++){r.push([]);for(let i=0;i<c[this.correctionLevel].codewordsInGroup1Block[this.version-1];i++)r[o].push(e.slice(t*8,(t+1)*8)),t+=1}return[r,t]}getGroup2(e,t){let r=[];for(let o=0;o<c[this.correctionLevel].blocksInGroup2[this.version-1];o++){r.push([]);for(let i=0;i<c[this.correctionLevel].codewordsInGroup2Block[this.version-1];i++)r[o].push(e.slice(t*8,(t+1)*8)),t+=1}return[r,t]}getGroupCoefficients(e){let t=[];for(let r=0;r<e.length;r++)for(let o=0;o<e[r].length;o++)t.push(parseInt(e[r][o],2));return t}padCharacterLength(e){let t=D[this.mode](this.version);for(;e.length%t!=0;)e="0"+e;return e}getNumberOfErrorCorrectionCodeWords(){return c[this.correctionLevel].ECCodeWordsPerBlock[this.version-1]*(c[this.correctionLevel].blocksInGroup1[this.version-1]+c[this.correctionLevel].blocksInGroup2[this.version-1])}getTotalNumberOfCodewords(){let e=c[this.correctionLevel].blocksInGroup1[this.version-1],t=c[this.correctionLevel].codewordsInGroup1Block[this.version-1],r=c[this.correctionLevel].blocksInGroup2[this.version-1],o=c[this.correctionLevel].codewordsInGroup2Block[this.version-1];return e*t+r*o}markColumn(e,t){for(let r=0;r<e.array.length;r++)r%this.size==t&&(e.array[r]="X")}markRow(e,t){for(let r=0;r<e.array.length;r++)Math.floor(r/this.size)==t&&(e.array[r]="X")}markPoint(e,t,r){for(let o=0;o<e.array.length;o++)Math.floor(o/this.size)==r&&o%this.size==t&&(e.array[o]="X")}display(){let e=this.generateCode();return e.forEach((t,r)=>{var o;this.canvasGrid.fillCell(r,(o=b[t])!=null?o:x)}),e}};E=new WeakSet,F=function(){let e=c[this.correctionLevel].ModeSize[this.mode],t;for(let r=0;r<e.length;r++)if(e[r]>this.data.length){t=r+1;break}return t},v=new WeakSet,U=function(){return 17+4*this.version};function I(s,e=!1){for(let t of Object.keys(s))T[t]=s[t];e&&V()}function V(){console.log("DATA_LOG: ",T)}var z=class{constructor(e,t,r="Byte",o="L"){this.qrCode=new L(e,t,r,o)}getCanvasId(){return this.qrCode.canvasId}setCanvasId(e){return this.qrCode.canvasId=e,this.qrCode.canvasId}getMode(){return this.qrCode.mode}getCorrectionLevel(){return this.qrCode.correctionLevel}getVersion(){return this.qrCode.version}getSize(){return this.qrCode.size}getCode(){return this.qrCode.generateCode()}printCodeToCanvas(e){this.qrCode.display()}};window.addEventListener("load",function(){document.getElementById("submit").addEventListener("click",function(){P();let s={textInput:document.getElementById("input"),modeInput:document.getElementById("mode-select"),errorCorrectionInput:document.getElementById("error-correction-select")},e=s.textInput.value.trim(),t=s.modeInput.value,r=s.errorCorrectionInput.value;try{let o=new z("qr",e,t,r);o.printCodeToCanvas(),console.log(o.getCode().join(""))}catch(o){console.log(o),j(o)}})});function j(s){let e=document.getElementById("error");e.innerText=s,e.classList.add("active")}function P(){let s=document.getElementById("error");s.innerText="",s.classList.remove("active")}
//# sourceMappingURL=index.js.map
